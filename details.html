<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تفاصيل الحديث</title>
<style>
    body { font-family: sans-serif; background:#fafafa; margin:0; padding:20px; }
    .container { max-width:900px; margin:auto; background:white; padding:20px; border-radius:10px; }
    .label { font-weight:bold; margin-top:15px; display:block; }
</style>
</head>
<body>

<div class="container">
    <h2 id="title">الحديث</h2>

    <span class="label">الحديث:</span>
    <div id="hadith_text">⏳ تحميل...</div>

    <span class="label">الشرح:</span>
    <div id="sharh">⏳ تحميل...</div>

    <span class="label">الراوي:</span>
    <div id="rawi">⏳ تحميل...</div>

    <span class="label">المحدث:</span>
    <div id="muhaddith">⏳ تحميل...</div>

    <span class="label">المصدر:</span>
    <div id="source">⏳ تحميل...</div>

    <span class="label">الصفحة أو الرقم:</span>
    <div id="page_number">⏳ تحميل...</div>

    <span class="label">الحكم:</span>
    <div id="hukm">⏳ تحميل...</div>

    <span class="label">التخريج:</span>
    <div id="takhrij">⏳ تحميل...</div>

    <span class="label">التصنيف:</span>
    <div id="categories">⏳ تحميل...</div>
</div>


<script>
// استخراج رقم الحديث من الرابط
const params = new URLSearchParams(window.location.search);
const hadithID = params.get("id");

// ✅ API الصحيح من Oracle
const API_URL = `https://g85b062bd5c6cb1-fatwaproject.adb.me-dubai-1.oraclecloudapps.com/ords/SUFEAN/hadeeth/search_by_id/${hadithID}`;

// جلب الحديث من Oracle وعرضه
async function loadHadith() {
    try {
        const res = await fetch(API_URL);
        const data = await res.json();

        if (!data.items || data.items.length === 0) {
            document.getElementById("hadith_text").innerText = "لم يتم العثور على الحديث.";
            return;
        }

        const h = data.items[0];

        document.getElementById("hadith_text").innerText = h.hadith_text || "—";
        document.getElementById("sharh").innerText = h.sharh || "—";
        document.getElementById("rawi").innerText = h.rawi || "—";
        document.getElementById("muhaddith").innerText = h.muhaddith || "—";
        document.getElementById("source").innerText = h.source || "—";
        document.getElementById("page_number").innerText = h.page_number || "—";
        document.getElementById("hukm").innerText = h.hukm || "—";
        document.getElementById("takhrij").innerText = h.takhrij || "—";
        document.getElementById("categories").innerText = (h.categories || []).join(" ، ");
    }
    catch(err){
        document.getElementById("hadith_text").innerText = "حدث خطأ أثناء تحميل البيانات.";
    }
}

loadHadith();
</script>

</body>
</html>
